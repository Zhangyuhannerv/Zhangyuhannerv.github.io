<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>ZhangYuhanのblog - ZhangYuhanのblog</title><meta name="author" content="ZhangYuhan"><meta name="copyright" content="ZhangYuhan"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Record the growth and learning process">
<meta property="og:type" content="website">
<meta property="og:title" content="ZhangYuhanのblog">
<meta property="og:url" content="https://zhangyuhan.netlify.app/page/7/index.html">
<meta property="og:site_name" content="ZhangYuhanのblog">
<meta property="og:description" content="Record the growth and learning process">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://zhangyuhan.netlify.app/img/theme/avatar.jpg">
<meta property="article:author" content="ZhangYuhan">
<meta property="article:tag" content="blog,java,js,日本语">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://zhangyuhan.netlify.app/img/theme/avatar.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://zhangyuhan.netlify.app/page/7/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ZhangYuhanのblog',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2023-03-07 14:55:27'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/mouse.css"><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/theme/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">164</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">217</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">56</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('/img/theme/banner.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="ZhangYuhanのblog"><span class="site-name">ZhangYuhanのblog</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">ZhangYuhanのblog</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/zhangyuhannerv" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:zhangyuhannerv@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/posts/28105.html" title="linux修改jar包文件"><img class="post-bg" src="https://raw.githubusercontent.com/zhangyuhannerv/picture-host-1/main/page_img19.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="linux修改jar包文件"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/28105.html" title="linux修改jar包文件">linux修改jar包文件</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-03-06T07:47:44.000Z" title="Created 2023-03-06 15:47:44">2023-03-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Ops/">Ops</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Ops/JAVA/">JAVA</a></span></div><div class="content">
使用 jar tvf jar 名称 | grep 目标文件名 查询出目标文件在 war 包中的目录
使用 jar xvf jar 名称 目标文件名(copy 上面查出的全路径) 将目标文件及所在 war 包中的目录解压到当前路径
修改目标文件的内容，或者将要新的目标文件替换掉提取出来的目标文件
使用 jar uvf jar 名称 目标文件名（和步骤（2）中的目标文件名相同） 将新目标文件替换到 jar 包中

1、具体这里以 blog.jar 为例进行操作
1、首先，查找你需要修改的文件
jar tvf blog-0.0.1-SNAPSHOT.jar | grep _fragments.html

2、解压文件到当前目录（会是个文件夹，但是不用管文件夹的其他文件，只找我们要改的文件）
jar -xvf blog-0.0.1-SNAPSHOT.jar BOOT-INF/classes/templates/_fragments.html


3、如果你有替换的文件就直接替换，没有则修改你需要修改的部分
vim _fragments.htmlcp 文件 目标文件

4、将修改的新文件替换到 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/posts/47358.html" title="快速搭建v2ray"><img class="post-bg" src="https://raw.githubusercontent.com/zhangyuhannerv/picture-host-1/main/page_img29.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="快速搭建v2ray"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/47358.html" title="快速搭建v2ray">快速搭建v2ray</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-03-06T07:47:44.000Z" title="Created 2023-03-06 15:47:44">2023-03-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Life/">Life</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Life/v2ray/">v2ray</a></span></div><div class="content">v2ray 一键脚本安装从下面脚本选择一个能用的
脚本 1
bash &lt;(curl -sL https://raw.githubusercontent.com/hijkpw/scripts/master/goV2.sh)

脚本 2
bash &lt;(curl -s -L https://git.io/v2ray.sh)

记住端口号和 UUID ，客户端配置的时候需要用到，当然，你也可以使用如下命令查看配置：

cat &#x2F;etc&#x2F;v2ray&#x2F;config.json

使用 v2ray开启 v2ray输入以下命令开启：
systemctl enable v2raysystemctl start v2ray

复制好你定义的 port 和 id，等会在客户端中使用。
解决 v2ray invalid user: VMessAEAD 可修改文件：
vi /etc/systemd/system/v2ray.service

将 Execstart 这一行改为：
ExecStart=/usr/bin/env v2ray.vmess.aead.forced= ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/posts/49496.html" title="toDo"><img class="post-bg" src="https://raw.githubusercontent.com/zhangyuhannerv/picture-host-1/main/page_img18.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="toDo"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/49496.html" title="toDo">toDo</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-03-06T07:47:44.000Z" title="Created 2023-03-06 15:47:44">2023-03-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Life/">Life</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Life/todo/">todo</a></span></div><div class="content">20221114
 整理 easyExcel 导入导出数据代码
 整理 RabbitTemplate 的 Api
 整理 RestTemplate 的 Api
 整理 FastJSON 的常用 api
 申请美版 paypal

20230105
 macbook 上记录大兴服务器密码
 记录&#x2F;转移广哥的最新 tomcat 项目
 正式&#x2F;测试城轨重新打安卓包。上传到服务器。重新生成二维码。替换掉旧有的二维码
 城轨代码替换 123 地址（注意查看视频播放逻辑）。重新打包。部署
 查看城轨 nginx 配置。看看是否有要改动的

20230106
 城轨正式二维码不对
 研究 nginx 前端部署时访问后端的地址(还是我想的对。轻骑兵 md 有毛病)
 xtsz_rwgl_rwxx，track_trackdata,kafka 消息入库

20230112
 测试 windows 通过向日葵访问 mac
 房补承诺书带着按手印重新上传申请

20230301
 http 请求检查文件刷新广播
 读取文件 mile 为空与不为空的情况
 消息体 pojo
 在车辆跑之前打 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/posts/13278.html" title="toCost"><img class="post-bg" src="https://raw.githubusercontent.com/zhangyuhannerv/picture-host-1/main/page_img25.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="toCost"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/13278.html" title="toCost">toCost</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-03-06T07:47:44.000Z" title="Created 2023-03-06 15:47:44">2023-03-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Life/">Life</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Life/todo/">todo</a></span></div><div class="content">每月支出项目
xgp 28¥
话费 33¥
理发 40¥
房租 1100¥

每年支出项目
vpn 55.82$

</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/posts/30134.html" title="toSee"><img class="post-bg" src="https://raw.githubusercontent.com/zhangyuhannerv/picture-host-1/main/page_img25.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="toSee"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/30134.html" title="toSee">toSee</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-03-06T07:47:44.000Z" title="Created 2023-03-06 15:47:44">2023-03-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Life/">Life</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Life/todo/">todo</a></span></div><div class="content">20221114
 学生会的一己之见
 只要长得可爱即使是变态你也喜欢吗
 夏日重现
 来自深渊
 孤独摇滚
 电锯人
 致不灭的你
[ ]

</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/posts/50126.html" title="常用api总结"><img class="post-bg" src="https://raw.githubusercontent.com/zhangyuhannerv/picture-host-1/main/page_img27.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="常用api总结"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/50126.html" title="常用api总结">常用api总结</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-03-06T07:47:44.000Z" title="Created 2023-03-06 15:47:44">2023-03-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Dev/">Dev</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/redis/">redis</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/redis/ResidTemplate/">ResidTemplate</a></span></div><div class="content">XXXTemplate 是 Spring 的一大设计特色，其中，RedisTemplate 功能是提供对 Redis 的支持。
RedisTemplate 是 Spring Boot 访问 Redis 的核心组件，是 SpringBoot 集成 Redis 的客户端方式。它的底层通过 RedisConnectionFactory 对多种 Redis 驱动进行集成，上层通过 XXXOperations 提供丰富的 API，并结合 Spring 基于泛型的 bean 注入，未开发提供了极大的便利。
一、Redis 常用的数据类型String：字符串类型，可以存储多种类型，如：字符串，JSON 串，二进制，序列化对象等；Hash：key-value 结构，就像 Java 里的 Map，特别适合存储对象；List：双端链表的结构，即可以作为栈，又可以作为队列，可以进行集合的头部或者尾部添加删除元素；Set：Set 集合是 String 类型的无序集合，通过 hashtable 实现，可以对集合取交集，并集，差集；Sorted set：是 String 类型的有序集合，并且，每个元素都会关联一个 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/posts/59400.html" title="存储zset的写法"><img class="post-bg" src="https://raw.githubusercontent.com/zhangyuhannerv/picture-host-1/main/page_img10.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="存储zset的写法"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/59400.html" title="存储zset的写法">存储zset的写法</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-03-06T07:47:44.000Z" title="Created 2023-03-06 15:47:44">2023-03-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Dev/">Dev</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/redis/">redis</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/redis/ResidTemplate/">ResidTemplate</a></span></div><div class="content">ZSetOperations zSetOperations = redisTemplate.opsForZSet();Set&lt;ZSetOperations.TypedTuple&lt;Map&lt;String, Double&gt;&gt;&gt; tuples = new HashSet&lt;&gt;();int cycleNum = dataShowMapper.getTrackDynamicGeometryDataNum(csrwId, xb) / 10000 + 1;// 循环次数CountDownLatch countDownLanch = new CountDownLatch(cycleNum);ExecutorService executor = Executors.newFixedThreadPool(cycleNum &gt; 4 ? 4 : cycleNum);for (int i = 0; i &lt; cycleNum; i++) &#123;  int start = i * 10000;  int num = 10000;  executor.ex ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/posts/11739.html" title="批量删除特定前缀key"><img class="post-bg" src="https://raw.githubusercontent.com/zhangyuhannerv/picture-host-1/main/page_img11.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="批量删除特定前缀key"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/11739.html" title="批量删除特定前缀key">批量删除特定前缀key</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-03-06T07:47:44.000Z" title="Created 2023-03-06 15:47:44">2023-03-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Dev/">Dev</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/redis/">redis</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/redis/redis-cli/">redis-cli</a></span></div><div class="content">redis-cli --scan --pattern &quot;ops-coffee-*&quot; | xargs -L 2000 redis-cli del

其中 xargs -L 指令表示 xargs 一次读取的行数，也就是每次删除的 key 数量，一次读取太多 xargs 会报错
</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/posts/38173.html" title="关于消费的同步异步问题，以及多个方法监听同一个topic"><img class="post-bg" src="https://raw.githubusercontent.com/zhangyuhannerv/picture-host-1/main/page_img3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="关于消费的同步异步问题，以及多个方法监听同一个topic"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/38173.html" title="关于消费的同步异步问题，以及多个方法监听同一个topic">关于消费的同步异步问题，以及多个方法监听同一个topic</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-03-06T07:47:44.000Z" title="Created 2023-03-06 15:47:44">2023-03-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Dev/">Dev</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/kafka/">kafka</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/kafka/%E4%B8%8Espringboot%E7%9A%84%E6%95%B4%E5%90%88/">与springboot的整合</a></span></div><div class="content">@KafkaListener(topics = &quot;test&quot;)public void consumerTest1(String msg) throws InterruptedException &#123;    log.info(&quot;收到消息1：&quot; + msg);    TimeUnit.MILLISECONDS.sleep(10);&#125;@KafkaListener(topics = &quot;test&quot;)public void consumerTest2(String msg) throws InterruptedException &#123;    log.info(&quot;收到消息2：&quot; + msg);    TimeUnit.MILLISECONDS.sleep(10);&#125;

如上所示多个方法消费同一个 topic那么，只会在一个方法中消费，不会两个方法都消费消息，即不会重复消费
同时当只有consumerTest1()方法时，如果手动阻塞线程，那么消息的消费也会变慢即如果向 test 发送  ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/posts/17422.html" title="SpringBoot中使用Quartz执行任务对象（job）中无法注入bean的问题"><img class="post-bg" src="https://raw.githubusercontent.com/zhangyuhannerv/picture-host-1/main/page_img15.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="SpringBoot中使用Quartz执行任务对象（job）中无法注入bean的问题"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/17422.html" title="SpringBoot中使用Quartz执行任务对象（job）中无法注入bean的问题">SpringBoot中使用Quartz执行任务对象（job）中无法注入bean的问题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-03-06T07:47:44.000Z" title="Created 2023-03-06 15:47:44">2023-03-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Dev/">Dev</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/quartz/">quartz</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/quartz/%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/">常见问题</a></span></div><div class="content">一、问题描述SpringBoot 整合  Quartz  进行定时任务开发时，job 中注入业务 Service，使用 @Autowired 注解获取对象为 null ，执行时报空指针异常
二、分析Spring 容器可以管理 Bean，但是 Quartz 的 job 是自己管理的，job 无法被容器识别，即使在自定义的 job 上面加上@Component 注解，依然无效，原因是  job 对象在 spring 容器加载的时候，能够注入 bean，但是在调度时，job 对象会重新创建，此时就导致了已经注入的对象丢失，因此报空指针异常。
三、解决办法
3.1 采用自定义静态工具类的方式，创建 AppContextUtil 类，实现 ApplicationContextAware 接口，此工具类会在 spring 容器启动后，自动加载，使用其提供的 Bean 方法获取想要的 bean 即可，代码如下：
import lombok.extern.slf4j.Slf4j;import org.springframework.beans.BeansException;import org.spr ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/6/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/#content-inner">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/#content-inner">8</a><span class="space">&hellip;</span><a class="page-number" href="/page/17/#content-inner">17</a><a class="extend next" rel="next" href="/page/8/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/theme/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">ZhangYuhan</div><div class="author-info__description">(o゜▽゜)o☆[BINGO!]</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">164</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">217</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">56</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://twitter.com/EuReKaNeRv"><i class="fa-brands fa-twitter"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/zhangyuhannerv" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:zhangyuhannerv@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">Welcome to my blog, here is a summary of my daily study and life collected and organized, I hope it can be helpful to you ^_^</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/4225.html" title="学习路线"><img src="https://raw.githubusercontent.com/zhangyuhannerv/picture-host-1/main/page_img3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="学习路线"/></a><div class="content"><a class="title" href="/posts/4225.html" title="学习路线">学习路线</a><time datetime="2023-03-06T07:47:44.000Z" title="Created 2023-03-06 15:47:44">2023-03-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/7682.html" title="待学习"><img src="https://raw.githubusercontent.com/zhangyuhannerv/picture-host-1/main/page_img34.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="待学习"/></a><div class="content"><a class="title" href="/posts/7682.html" title="待学习">待学习</a><time datetime="2023-03-06T07:47:44.000Z" title="Created 2023-03-06 15:47:44">2023-03-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/17762.html" title="远程请求http的三种方式"><img src="https://raw.githubusercontent.com/zhangyuhannerv/picture-host-1/main/page_img19.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="远程请求http的三种方式"/></a><div class="content"><a class="title" href="/posts/17762.html" title="远程请求http的三种方式">远程请求http的三种方式</a><time datetime="2023-03-06T07:47:44.000Z" title="Created 2023-03-06 15:47:44">2023-03-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/61509.html" title="在maven库上添加手动添加第三方jar包"><img src="https://raw.githubusercontent.com/zhangyuhannerv/picture-host-1/main/page_img39.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="在maven库上添加手动添加第三方jar包"/></a><div class="content"><a class="title" href="/posts/61509.html" title="在maven库上添加手动添加第三方jar包">在maven库上添加手动添加第三方jar包</a><time datetime="2023-03-06T07:47:44.000Z" title="Created 2023-03-06 15:47:44">2023-03-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/21615.html" title="将普通项目托付给maven管理"><img src="https://raw.githubusercontent.com/zhangyuhannerv/picture-host-1/main/page_img27.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="将普通项目托付给maven管理"/></a><div class="content"><a class="title" href="/posts/21615.html" title="将普通项目托付给maven管理">将普通项目托付给maven管理</a><time datetime="2023-03-06T07:47:44.000Z" title="Created 2023-03-06 15:47:44">2023-03-06</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>Categories</span>
            <a class="card-more-btn" href="/categories/" title="More">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item parent"><a class="card-category-list-link" href="/categories/Arc/"><span class="card-category-list-name">Arc</span><span class="card-category-list-count">3</span><i class="fas fa-caret-left "></i></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Arc/git/"><span class="card-category-list-name">git</span><span class="card-category-list-count">3</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Arc/git/general/"><span class="card-category-list-name">general</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Arc/git/github/"><span class="card-category-list-name">github</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Arc/git/gitlab/"><span class="card-category-list-name">gitlab</span><span class="card-category-list-count">1</span></a></li></ul></li></ul></li><li class="card-category-list-item parent"><a class="card-category-list-link" href="/categories/Dev/"><span class="card-category-list-name">Dev</span><span class="card-category-list-count">123</span><i class="fas fa-caret-left "></i></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Dev/FastJSON/"><span class="card-category-list-name">FastJSON</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Dev/Java/"><span class="card-category-list-name">Java</span><span class="card-category-list-count">24</span></a></li></ul></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>Tags</span></div><div class="card-tag-cloud"><a href="/tags/%E5%8A%A8%E6%80%81%E5%8A%A0%E8%BD%BD%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87/" style="font-size: 1.1em; color: #999">动态加载上传图片</a> <a href="/tags/%E5%91%8A%E5%88%AB%E9%9D%9E%E7%A9%BA%E5%88%A4%E6%96%AD/" style="font-size: 1.1em; color: #999">告别非空判断</a> <a href="/tags/unzip%E8%A7%A3%E5%8E%8B/" style="font-size: 1.1em; color: #999">unzip解压</a> <a href="/tags/%E6%B2%A1%E6%9C%89firewall-cmd%E5%91%BD%E4%BB%A4/" style="font-size: 1.1em; color: #999">没有firewall-cmd命令</a> <a href="/tags/algorithmCollection/" style="font-size: 1.5em; color: #99a9bf">algorithmCollection</a> <a href="/tags/%E5%BC%82%E6%AD%A5/" style="font-size: 1.3em; color: #99a1ac">异步</a> <a href="/tags/node/" style="font-size: 1.3em; color: #99a1ac">node</a> <a href="/tags/toDo/" style="font-size: 1.1em; color: #999">toDo</a> <a href="/tags/%E9%85%8D%E7%BD%AE%E8%A7%86%E9%A2%91%E6%92%AD%E6%94%BE/" style="font-size: 1.1em; color: #999">配置视频播放</a> <a href="/tags/%E4%BD%BF%E7%94%A8poi%E5%AF%BC%E5%87%BA%E5%B8%A6%E6%9C%89%E6%95%B0%E6%8D%AE%E7%9A%84%E6%A8%A1%E7%89%88/" style="font-size: 1.1em; color: #999">使用poi导出带有数据的模版</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>Archives</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/03/"><span class="card-archive-list-date">March 2023</span><span class="card-archive-list-count">164</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article :</div><div class="item-count">164</div></div><div class="webinfo-item"><div class="item-name">UV :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">PV :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">Last Push :</div><div class="item-count" id="last-push-date" data-lastPushDate="2023-03-07T06:55:26.831Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/img/theme/footer.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2023 By ZhangYuhan</div><div class="footer_custom_text">Hi, welcome to my blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"><script>window.typedJSFn = {
  init: (str) => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: (subtitleType) => {
    if (true) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  }
}
</script><script>function subtitleType () {
  if (true) {
    typedJSFn.init(["涩涩是人类进步的阶梯  ——沃兹基硕德"])
  } else {
    document.getElementById("subtitle").innerHTML = '涩涩是人类进步的阶梯  ——沃兹基硕德'
  }
}
typedJSFn.run(subtitleType)</script></div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></body></html>